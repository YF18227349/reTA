webpackJsonp([83],{ImXF:function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a=e("BO1k"),i=e.n(a),n={data:function(){return{loadMord:"",pageInfo:{header_title:"军人列表",bannerType:9},navBarList:[{title:"智能排序"},{title:"类别排序"},{title:"发布日期"}],soldier_list:[],bannerInfoList:[],param:{page:null,length:null,count:null},hot:0,superStyle:{hegiht:!0}}},created:function(){this.$store.commit("setHeaderStyle",{txt:this.pageInfo.header_title,type:0}),this.getPageInfo(0),this.getBannerImage()},mounted:function(){this.autoFixedSize()},methods:{autoFixedSize:function(){var t=this.$refs.barEle.offsetHeight;this.superStyle.height=t+"px"},getBannerImage:function(){var t=this,s=this.getToken(),e=this.pageInfo.bannerType;this.__initAction("Banner-getData",{token:s,type:e},function(s,e){1==e&&(t.bannerInfoList=[],t.bannerInfoList=s.data)})},getPageInfo:function(t){var s=this,e=this.getToken();this.param.length=this.Global.length_num;var a=this.hot,n=this.param.length;if(0==t){this.param.page=this.Global.page_num;var o=this.param.page}else o=t;var l={token:e,page:o,length:n,hot:a},r=this.Global.baseURL+"/Index-getSoldierList.jsp";this.selfMainLoadOpend(),this.axios.post(r,l).then(function(t){if(console.log(t.data),1==t.data.status){s.param.count=t.data.count;var e=t.data.data;if(e&&e.length>0){var a=!0,n=!1,o=void 0;try{for(var l,r=i()(e);!(a=(l=r.next()).done);a=!0){var d=l.value,c={};c.id=d.id,c.name=d.consignee,c.logo=d.portrait,c.salary=d.salary,c.time=d.create_time,c.infos=d.infos,c.resumeIndustry=d.resumeIndustry,c.view=d.view,s.soldier_list.push(c)}}catch(t){n=!0,o=t}finally{try{!a&&r.return&&r.return()}finally{if(n)throw o}}}else s.selfToast({mes:"暂时没有数据了",timeout:1500,icon:"error"});s.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.finishLoad"),s.param.page++,s.selfMainLoadClosed()}else-1==t.data.code?(s.selfToast({mes:"登录超时请重试",timeout:1500,icon:"error"}),setTimeout(function(){s.selfMainLoadClosed(),s.$router.push("/login")},1600)):"0000000001"==t.data.code?(s.loadMord="暂无数据...",setTimeout(function(){s.selfMainLoadClosed()},1500)):setTimeout(function(){s.selfMainLoadClosed()},1500)}).catch(function(t){s.selfToast({mes:res.data.info,timeout:1500,icon:"error"}),setTimeout(function(){s.selfMainLoadClosed()},1500),console.error(t)})},loadList:function(){var t=this,s=Math.ceil(this.param.count/this.param.length),e=this.param.page+1;if(s==e)return this.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.loadedDone"),this._msg("已经到底了"),void setTimeout(function(){t.selfLoadClosed()},1500);this.selfLoadOpend({mes:"加载数据中...",color:"fc-blue",font:30,status:!0}),this.getPageInfo(e)}},components:{"self-no-data":function(){return e.e(132).then(e.bind(null,"11mN"))}}},o={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"main_soldier w-100"},[e("div",{ref:"barEle",staticClass:"banner-box"},[e("yd-slider",{attrs:{autoplay:"0","pagination-color":"#dce6ec","pagination-activecolor":"white",index:"1"}},t._l(t.bannerInfoList,function(t,s){return e("yd-slider-item",{key:s},[e("router-link",{attrs:{to:"/bannerDetail/"+t.id}},[e("img",{attrs:{src:t.image}})])],1)}),1)],1),t._v(" "),e("div",{staticClass:"create-fixed"}),t._v(" "),e("div",{staticClass:"navbar"},[e("ul",{staticClass:"navbar-bar"},t._l(t.navBarList,function(s,a){return e("li",{key:a,staticClass:"navbar-item"},[e("span",{domProps:{textContent:t._s(s.title)}}),t._v(" "),e("span",{staticClass:"iconfont icon-arrowdown"})])}),0)]),t._v(" "),e("div",{staticClass:"nav-create-fixed",style:t.superStyle}),t._v(" "),e("yd-infinitescroll",{ref:"infinitescrollDemo",attrs:{callback:t.loadList,"scroll-top":!0}},[e("ul",{staticClass:"main_soldier_group w-100",attrs:{slot:"list"},slot:"list"},t._l(t.soldier_list,function(s,a){return e("li",{key:a,staticClass:"soldier_list bg-white w-100"},[e("router-link",{staticClass:"list_items w-100",attrs:{to:/resumeinfo/+s.id}},[e("div",{staticClass:"soldier_infos w-100"},[e("span",{staticClass:"soldier_logo"},[e("img",{staticClass:"imgs shadow-dark",attrs:{src:s.logo,alt:""}})]),t._v(" "),e("div",{staticClass:"soldier_text"},[e("div",{staticClass:"soldier_info"},[e("span",{staticClass:"fm-1 fw-6 fc-dark"},[t._v(t._s(s.name))]),t._v(" "),e("span",{staticClass:"fm-1 fw-6 fc-blue"},[t._v(t._s(s.salary))])]),t._v(" "),e("div",{staticClass:"soldier_info"},[e("span",{staticClass:"fs-3 fw-6 fc-gray"},[t._v(t._s(s.resumeIndustry))])])])]),t._v(" "),e("div",{staticClass:"soldier_detail w-100"},[e("span",{staticClass:"fs-3 fw-6 fc-gray"},[t._v(t._s(s.infos))])])]),t._v(" "),e("div",{staticClass:"marks"},[e("span",{staticClass:"iconfont icon-eye3 fs-3 fw-6 fc-gray"},[t._v(" "+t._s(s.view))]),t._v(" "),e("span",{staticClass:"fs-3 fw-6 fc-gray"},[t._v(t._s(s.time))])])],1)}),0),t._v(" "),e("span",{staticClass:"pb-5 pt-5 fc-dark fm-2",attrs:{slot:"doneTip"},slot:"doneTip"})]),t._v(" "),t.soldier_list.length<=0?e("a",{staticClass:"mt-5",attrs:{href:"javascript:;"}},[e("self-no-data",{attrs:{title:t.loadMord,size:"16"}})],1):t._e()],1)},staticRenderFns:[]};var l=e("VU/8")(n,o,!1,function(t){e("wVOO")},"data-v-6aa0a90a",null);s.default=l.exports},wVOO:function(t,s){}});