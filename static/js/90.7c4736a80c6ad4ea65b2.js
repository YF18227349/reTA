webpackJsonp([90],{"/WH5":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=a("mvHQ"),i=a.n(s),n={data:function(){return{search_value:"",isClear:!1,searchBtn:"取消",token:"",cityId:0,keyword:"",lon:"",lat:"",searchRecommend:[{name:"推荐搜索",data:[]},{name:"热门公司",data:[]}],searchHistoryList:[]}},created:function(){this.init()},mounted:function(){},methods:{init:function(){this.token=this.getToken(),this.getValue(),this.beforTabCode()},getDataInfo:function(){var t=this,e={token:this.token,cityId:this.cityId,lon:this.lon,lat:this.lat};this.__initAction("Index-homeRepository",e,function(e,a){1==a&&(t.searchRecommend[0].data=e.data.keyword,t.searchRecommend[1].data=e.data.companyMap,t.searchHistoryList=e.data.searchHistory)})},getValue:function(){var t=this.getCache("location",2);t&&(this.cityId=t.cityId,this.lon=t.lon,this.lat=t.lat),this.getDataInfo()},beforTabCode:function(){var t=this.getSelectData();t||(t={}),t.pageInfo||(t.pageInfo={}),t.pageInfo.information||(t.pageInfo.information={}),t.pageInfo.information.pageTabCode||(t.pageInfo.information.pageTabCode=0),t.pageInfo.information.pageTabCode=0,this.setCache("select_data",i()(t))},clear_value:function(){this.search_value="",this.isClear=!1},searchHandle:function(){var t=this,e=this.search_value;if(!e)return this._msg("请输入搜索内容");this.inputHotVaue(e),"搜索"==this.searchBtn&&setTimeout(function(){t.$router.push("/searchlist/"+e)},300)},inputHotVaue:function(t){var e=this.getToken(),a=t;this.__initAction("Tools-addSearchHistory",{token:e,search:a},function(t,e){1==e&&console.log(t)})},check_value:function(){this.search_value.length>=1?this.isClear=!0:this.isClear=!1}},watch:{search_value:function(){this.check_value(),this.search_value.length>0?this.searchBtn="搜索":this.searchBtn="取消"}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"search w-100"},[a("header",{staticClass:"header_search w-100"},[a("div",{staticClass:"search_group p-r bg-white"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.search_value,expression:"search_value"}],attrs:{type:"text",placeholder:"搜索"},domProps:{value:t.search_value},on:{blur:t.searchHandle,keyup:function(e){return e.type.indexOf("key")||13===e.keyCode?t.searchHandle(e):null},input:function(e){e.target.composing||(t.search_value=e.target.value)}}}),t._v(" "),a("span",{staticClass:"search_logo iconfont icon-3 p-a",on:{click:t.searchHandle}}),t._v(" "),t.isClear?a("a",{staticClass:"clear iconfont icon-error p-a",attrs:{href:"javascript:;"},on:{click:function(e){return e.preventDefault(),t.clear_value()}}}):t._e()]),t._v(" "),a("a",{staticClass:"searchBack",attrs:{href:"javascript:history.go(-1);"}},[a("span",{staticClass:"fc-white fw-5",domProps:{textContent:t._s(t.searchBtn)}})])]),t._v(" "),t.searchHistoryList.length<=0?a("div",{staticClass:"search_img w-100"},[a("img",{attrs:{src:"http://static.sxtian.com/imgs/main/nofound.png",alt:""}})]):t._e(),t._v(" "),t.searchHistoryList.length>0?a("div",{staticClass:"list-box p-5"},[a("p",{staticClass:"info_title",domProps:{textContent:t._s("历史搜索")}}),t._v(" "),a("ul",{staticClass:"list"},t._l(t.searchHistoryList,function(e,s){return a("li",{key:s,staticClass:"list-item mt-5"},[a("router-link",{staticClass:"list-item-link",attrs:{to:"/searchlist/"+e}},[a("span",{staticClass:"list-item-content",domProps:{textContent:t._s(e)}})])],1)}),0)]):t._e(),t._v(" "),t._l(t.searchRecommend,function(e,s){return t.searchRecommend.length>0?a("div",{key:s,staticClass:"search_info w-100"},[a("p",{staticClass:"info_title",domProps:{textContent:t._s(e.name)}}),t._v(" "),a("div",{staticClass:"info_coutent w-100"},t._l(e.data,function(e,s){return a("div",{key:s,staticClass:"mt-4"},[a("router-link",{attrs:{to:"/searchlist/"+e}},[t._v(t._s(e))])],1)}),0)]):t._e()})],2)},staticRenderFns:[]};var r=a("VU/8")(n,o,!1,function(t){a("6rKt")},null,null);e.default=r.exports},"6rKt":function(t,e){}});