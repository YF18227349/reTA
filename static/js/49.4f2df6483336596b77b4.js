webpackJsonp([49],{GKMF:function(t,e,s){"use strict";(function(t){e.a={data:function(){return{pageInfo:{header_title:"举报职位"},textContent:"",textNum:0,textStyle:{readonly:!0},photo_count:1,photoList:[{logo:"http://static.sxtian.com/imgs/add-pic.png",code:"val"}],phone:""}},created:function(){this.selfMainLoadOpend(),this.init()},mounted:function(){this.$store.commit("setHeaderStyle",{txt:this.pageInfo.header_title,type:1})},watch:{textContent:function(){var t=this.textContent.length;t<200?(this.textNum=t,this.textStyle.readonly=!1):t>200&&(console.log("err"),this.textNum=200,this.textStyle.readonly=!0)}},methods:{init:function(){var t=this;this.__Sleep(function(e){t.selfMainLoadClosed()},1e3),this.getPageInfo()},getPageInfo:function(){},doReport:function(){var t=this,e=this.getToken(),s=this.textContent,i=this.getParams().type,o=this.getParams().id,n=this.handleImage(),a=this.phone;if(!s)return this._msg("请输入举报内容");if(!a)return this._msg("请输入联系电话");if(!/^1[3456789]\d{9}$/.test(a))return this._msg("您的号码有误!");if(!n)return this._msg("请提供相关图片");var l={token:e,remarks:s,type:i,tiemId:o,images:n,phone:a};this.__initAction("Report-addReport",l,function(e,s){t._msg(e.info)})},handleImage:function(){var t=this.photoList,e=(t.len,"");for(var s in t){t[s].files&&(e+=t[s].files+"|")}return e?e.substr(0,e.lastIndexOf("|")):null},delImage:function(t){var e=this.photoList;e.splice(t,1),this.photo_count--;var s={logo:"http://static.sxtian.com/imgs/add-pic.png",code:"val"};if(2==e.length&&this.isUpImgCode&&e[e.length-1].files){this.isUpImgCode=!1;s={logo:"http://static.sxtian.com/imgs/add-pic.png",code:"val"};this.photoList.push(s)}else this.isUpImgCode=!0},imports:function(t){if(4!=this.photo_count){var e="files"+t,s=this,i=document.getElementById(""+e).files[0];if(i){var o=i.name.split(".")[1],n=(i.size,new FileReader);n.readAsDataURL(i),n.onload=function(e){var i=this.result,n=s.photoList.length;s.photo_count++;var a={};a.logo=i,s.photoList.splice(n-1,0,a);var l=e.target.result;s.__UploadImg(l,o,function(e){s.photoList[t].files=e.dir}),4!=s.photoList.length||s.photoList.pop()}}else this._msg("请选择图片")}},do_add:function(){t(".file_input").change(),this.photo_count}}}}).call(e,s("gavX"))},iCVC:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=s("GKMF"),o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"report"},[s("div",{staticClass:"mt-3 w-100 bg-white pt-3 pb-3 pl-2 pr-2 border-bottom"},[s("yd-icon",{attrs:{name:"feedback",size:"1rem",color:"#ff685d"}}),t._v(" "),s("span",{staticClass:"fw-6 fs-3"},[t._v("情况说明")])],1),t._v(" "),s("div",{staticClass:"text-content"},[s("div",[s("textarea",{directives:[{name:"model",rawName:"v-model",value:t.textContent,expression:"textContent"}],staticClass:"text-cell",style:t.textStyle,attrs:{maxlength:"200",cols:"200",rows:"10",placeholder:"请尽量详细反映情况，以便我们即使正确处理你的举报（最多200字）"},domProps:{value:t.textContent},on:{input:function(e){e.target.composing||(t.textContent=e.target.value)}}}),t._v(" "),s("p",{staticClass:"f-right fc-gray pr-1"},[s("span",[t._v(t._s(t.textNum)+"/200")])])])]),t._v(" "),s("div",{staticClass:"mt-3 w-100"},[s("ul",{staticClass:"tel"},[s("li",{staticClass:"tel-item"},[s("span",{staticClass:"tel-icon-logo"},[s("svg",{staticClass:"icon",staticStyle:{width:"1em",height:"1em","vertical-align":"middle",fill:"currentColor",overflow:"hidden"},attrs:{viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"5679"}},[s("path",{attrs:{d:"M825.6 64H198.4A134.4 134.4 0 0 0 64 198.4v627.2A134.4 134.4 0 0 0 198.4 960h627.2a134.4 134.4 0 0 0 134.4-134.4V198.4A134.4 134.4 0 0 0 825.6 64zM166.016 795.584H64.384v-59.776h101.632v59.776z m0-119.52H106.24v-59.776h59.776v59.776z m0-119.552H64.384v-59.776h101.632v59.776z m0-119.552H106.24v-59.776h59.776v59.776z m0-119.52H64.384V257.664h101.632V317.44z m571.232 477.696c-74.304 0-224.928-76.32-297.184-148.576-72.256-72.288-148.608-222.912-148.608-297.184 0 0 56.928-91.712 94.08-91.712s148.608 111.456 111.456 148.608c-37.152 37.12-74.304 37.12-74.304 74.272 0 37.152 37.152 74.272 74.304 111.456 37.152 37.152 74.304 74.304 111.456 74.304s37.152-37.152 74.304-74.304 148.608 74.304 148.608 111.456c-0.032 37.152-94.112 91.68-94.112 91.68z",fill:"","p-id":"5680"}})])]),t._v(" "),s("span",{staticClass:"fw-6 fs-3"},[t._v("你的联系方式")])]),t._v(" "),s("li",{staticClass:"tel-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],attrs:{type:"tel",placeholder:"请输入您的联系方式"},domProps:{value:t.phone},on:{input:function(e){e.target.composing||(t.phone=e.target.value)}}})])])]),t._v(" "),s("div",{staticClass:"list_item item_photo mt-3"},[s("p",{staticClass:"fs-3 fc-dark fw-6 mt-1 mb-2"},[t._v("添加图片")]),t._v(" "),s("div",{staticClass:"photo_container"},t._l(t.photoList,function(e,i){return s("a",{key:i,staticClass:"photos bg-gray mr-2",attrs:{href:"javascript:;"}},[e.code?t._e():s("span",{staticClass:"del-img",on:{click:function(e){return t.delImage(i)}}},[s("span",{staticClass:"iconfont icon-error fc-dark"})]),t._v(" "),s("img",{attrs:{src:e.logo,alt:""}}),t._v(" "),t.photo_count<4?s("input",{staticClass:"file_input",attrs:{type:"file",id:"files"+i,accept:"image/*"},on:{click:function(e){return t.do_add()},change:function(e){return t.imports(i)}}}):t._e()])}),0)]),t._v(" "),s("a",{staticClass:"reprot_btn bg-blue w-100 mt-5",attrs:{href:"javascript:;"},on:{click:function(e){return t.doReport()}}},[s("span",{staticClass:"fc-white fm-2 fw-6"},[t._v("举报")])])])},staticRenderFns:[]};var n=function(t){s("wSjC")},a=s("VU/8")(i.a,o,!1,n,"data-v-1a043df8",null);e.default=a.exports},wSjC:function(t,e){}});