webpackJsonp([59],{Qn88:function(t,a){},rvI7:function(t,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var i=s("mvHQ"),e=s.n(i),r=s("BO1k"),n=s.n(r),l={data:function(){return{header_title:"地址列表",dataList:[],param:this.initPage(),params:this.initParam(),load_show1:!1,load_show:!1,default_id:null,modal_value:"",select_code:null,show:!1,id:null}},created:function(){this.selfMainLoadOpend(),this.$store.commit("setHeaderStyle",{txt:this.header_title,type:0}),this.init()},methods:{init:function(){var t=this;this.getPageInfo(),this.__Sleep(function(a){t.selfMainLoadClosed()},1e3)},getPageInfo:function(){var t=this;this.$dialog.loading.close(),this.__initAction("Address-getList",this.params,function(a,s){if(1==s){console.log(a);var i=!0,e=!1,r=void 0;try{for(var l,c=n()(a.data);!(i=(l=c.next()).done);i=!0){var o=l.value,d=o;d.createTime=o.create_time,d.addr1=o.province+" "+o.city+" "+o.area+" ",d.addr2=""+o.address,t.dataList.push(d),console.log(t.dataList,800)}}catch(t){e=!0,r=t}finally{try{!i&&c.return&&c.return()}finally{if(e)throw r}}t.param.count=a.count,t.params.count=a.count}})},remove_addr:function(t,a){var s=this;this.$dialog.confirm({title:"删除",mes:"是否删除“"+a+"”地址",opts:function(){s._msg("删除")}})},loadList:function(){var t=this;if(this.param.Max=Math.ceil(this.param.count/this.param.length),this.param.page==this.param.Max)return this._msg("已经到底了",200),setTimeout(function(){t.selfLoadClosed({mes:""})},500),!1;this.param.page++,this.params.page++,this.getPageInfo(),this.$refs.infinitescrollDemo.$emit("ydui.infinitescroll.finishLoad")},selecet_default_btn:function(t){var a=this,s={token:this.getToken(),id:t};this.__initAction("Address-getDefault",s,function(t,s){1==s&&(a._msg(t.info,1500,"success"),a.realoade())})},select_addr:function(t){var a=this.getParams().type,s=this.dataList[t].id;switch(a){case"list":var i=this.dataList[t].addr1+this.dataList[t].addr2;console.log(i);var r=this.getCache("invoice_fill_user_addr",2);r||(r={}),r.id=s,r.addr=i,this.setCache("invoice_fill_user_addr",e()(r)),window.history.go(-1);break;case"user":this.__Href("/add_new_addr/"+s);break;default:console.log(a)}},update_addr:function(t){this.__Href("/add_new_addr/"+t)},realoade:function(){var t=this,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1e3;this.params.page=0,this.param.page=0,this.__Sleep(function(a){t.dataList=[],t.getPageInfo()},a)}}},c={render:function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"user_addr w-100"},[t.load_show1?s("self-load-plate"):t._e(),t._v(" "),s("yd-infinitescroll",{ref:"infinitescrollDemo",attrs:{callback:t.loadList,"scroll-top":!0}},[s("div",{staticClass:"user_addr_group w-100",attrs:{slot:"list"},slot:"list"},t._l(t.dataList,function(a,i){return s("ul",{key:i,staticClass:"user_addr_list w-100 bg-white mt-4 mb-4"},[s("li",[s("a",{staticClass:"line_item",attrs:{href:"javascript:;"},on:{click:function(a){return t.select_addr(i)}}},[s("span",{staticClass:"f-left fc-dark fw-6 fs-3 mr-2"},[t._v("姓名:")]),t._v(" "),s("span",{staticClass:"f-left fc-dark fw-6 fs-3"},[t._v(t._s(a.consignee))]),t._v(" "),s("span",{staticClass:"f-right fc-dark fw-6 fs-3"},[t._v(t._s(a.tel))])])]),t._v(" "),s("li",[s("a",{staticClass:"line_item",attrs:{href:"javascript:;"},on:{click:function(a){return t.select_addr(i)}}},[s("span",{staticClass:"f-left fc-gray fw-6 fs-3 mr-3"},[t._v("地 址:")]),t._v(" "),s("span",{staticClass:"f-right fc-gray fw-6 fs-3"},[t._v(t._s(a.address))]),t._v(" "),s("span",{staticClass:"f-right fc-gray fw-6 fs-3"},[t._v(t._s(a.area))]),t._v(" "),s("span",{staticClass:"f-right fc-gray fw-6 fs-3"},[t._v(t._s(a.city))]),t._v(" "),s("span",{staticClass:"f-right fc-gray fw-6 fs-3"},[t._v(t._s(a.province))])])]),t._v(" "),s("li",[s("a",{staticClass:"line_item",attrs:{href:"javascript:;"}},[s("a",{staticClass:"f-left default_btn",attrs:{href:"javascript:;"},on:{click:function(s){return t.selecet_default_btn(a.id)}}},[s("span",{staticClass:"item_radio iconfont icon-duihao4 fw-6 mr-2 fc-white",class:1==a.isDefault?"bg-blue br-blue":"bg-lightdark br-lightdark"}),t._v(" "),s("span",{staticClass:"default_txt fw-6 fc-gray"},[t._v("设为默认")])]),t._v(" "),s("a",{staticClass:"addr_btn f-right ml-6",attrs:{href:"javascript:;"},on:{click:function(s){return t.update_addr(a.id)}}},[s("span",{staticClass:"item_icon iconfont icon-bianji1 fc-gray fw-6"}),t._v(" "),s("span",{staticClass:"fc-gray ml-2"},[t._v("编辑")])]),t._v(" "),s("a",{staticClass:"addr_btn f-right",attrs:{href:"javascript:;"},on:{click:function(s){return t.remove_addr(a.id,a.consignee)}}},[s("span",{staticClass:"item_icon iconfont icon-lajixiang1 fc-gray fw-6"}),t._v(" "),s("span",{staticClass:"fc-gray ml-2"},[t._v("删除")])])])])])}),0),t._v(" "),s("span",{staticClass:"pb-5 pt-5 fc-dark fm-2",attrs:{slot:"doneTip"},slot:"doneTip"})]),t._v(" "),t.load_show?s("div",{staticClass:"zhezhao"}):t._e(),t._v(" "),t.load_show?s("self-load-plate",{staticClass:"c1"}):t._e(),t._v(" "),s("router-link",{staticClass:"add_addr_btn bg-blue",attrs:{to:"/add_new_addr/-1"}},[s("span",{staticClass:"fc-white fm-2"},[t._v("添加新地址")])])],1)},staticRenderFns:[]};var o=s("VU/8")(l,c,!1,function(t){s("Qn88")},null,null);a.default=o.exports}});