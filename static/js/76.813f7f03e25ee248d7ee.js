webpackJsonp([76],{do6C:function(t,e){},hEou:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("mvHQ"),s=a.n(i),n={data:function(){return{selcetTabCode:0,pageInfo:{header_title:"添加发票信息",token:"",uid:null,tabCode:0,tabList:[{title:"企业抬头",data:{name:"",code_id:"",addr:"",telNum:"",bank_name:"",bank_code:""}},{title:"个人抬头",data:{name:"",code_id:"",addr:"",telNum:"",bank_name:"",bank_code:""}}]},name:"",nameShow:!1,code_id:"",codeIdShow:!1,addr:"",addrShow:!1,telNum:"",telNumShow:!1,bank_name:"",bankNameShow:!1,bank_code:"",bankCodeShow:!1}},created:function(){this.selfMainLoadOpend(),this.$store.commit("setHeaderStyle",{txt:this.pageInfo.header_title,type:0}),this.init()},methods:{init:function(){var t=this;this.$dialog.loading.close();var e=this.getParams().id;if(e>0){var a={token:this.getToken(),id:e};this.__initAction("Invoice-show",a,function(e,a){if(1==a){var i=e.data;t.select_tab(i.invoiceType-1),t.name=i.invoiceTitle,t.code_id=i.invoiceTax,t.addr=i.invoiceAddress,t.telNum=i.invoicePhone,t.bank_name=i.invoiceBank,t.bank_code=i.invoiceAccount}})}else this.select_tab(1),this.deBug()&&(this.name="",this.code_id="",this.addr="",this.telNum="",this.bank_name="",this.bank_code="");this.__Sleep(function(e){t.selfMainLoadClosed()},1e3)},save_info:function(){var t=this,e=this.name,a=this.code_id,i=this.addr,n=this.telNum,o=this.bank_name,c=this.bank_code,d=this.pageInfo.tabCode+1,l=this.Global.reg_phone,r=this.Global.reg_bankCardId;if(e)if(a)if(i){if(this.checkPhone(n,l)&&this.checkbankCardId(c,r)){var h={invoiceAll:!0,invoiceTitle:e,invoiceTax:a,invoiceAddress:i,invoicePhone:n,invoiceBank:o,invoiceAccount:c,invoiceType:d};this.loading("正在保存请稍后...");var _=this.getParams().id,m=h;if(m.token=this.getToken(),_>0){m.id=_;var u="Invoice-edit"}else u="Invoice-add";this.__initAction(u,m,function(e,a){1==a&&(t.setCache("InfoData",s()(h)),t._msg(e.info,1e3,"success"),t.__Sleep(function(e){t.$router.back(-1)},1e3))})}}else this.$dialog.toast({mes:"地址不能为空",timeout:1e3});else 1==d?this.$dialog.toast({mes:"税号不能为空",timeout:1e3}):this.$dialog.toast({mes:"账号不能为空",timeout:1e3});else this.$dialog.toast({mes:"名称不能为空",timeout:1e3})},select_tab:function(t){this.selcetTabCode=t,this.pageInfo.tabCode=t}},watch:{name:function(){this.name?this.nameShow=!0:this.nameShow=!1},code_id:function(){this.code_id?this.codeIdShow=!0:this.codeIdShow=!1},addr:function(){this.addr?this.addrShow=!0:this.addrShow=!1},telNum:function(){this.telNum?this.telNumShow=!0:this.telNumShow=!1},bank_name:function(){this.bank_name?this.bankNameShow=!0:this.bankNameShow=!1},bank_code:function(){this.bank_code?this.bankCodeShow=!0:this.bankCodeShow=!1}}},o={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"add_invoice_info w-100"},[a("ul",{staticClass:"add_invoice_info_tabs bg-white"},t._l(t.pageInfo.tabList,function(e,i){return a("li",{key:i,staticClass:"tab_item"},[a("a",{staticClass:"item",attrs:{href:"javascript:;"},on:{click:function(e){return t.select_tab(i)}}},[a("span",{staticClass:"item_code",class:t.pageInfo.tabCode==i?"selectTab":"unSelectTab"},[t._v(t._s(e.title))])])])}),0),t._v(" "),a("div",{staticClass:"clear-fixed"}),t._v(" "),a("div",{staticClass:"add_invoice_info_group w-100"},[a("ul",{staticClass:"add_info_list w-100"},[a("li",{staticClass:"p-r"},[a("div",{staticClass:"add_info_item"},[a("span",[t._v("名称")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"item_input",attrs:{type:"text",placeholder:0==t.pageInfo.tabCode?"请输入单位名称（必填）":"请输入姓名（必填）"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"clearBtn p-a",class:t.nameShow?"bg-lightdark":"bg-white",attrs:{href:"javascript:;"},on:{click:function(e){t.name=""}}},[a("span",{staticClass:"fw-6 fc-white iconfont icon-error"})])]),t._v(" "),a("li",{staticClass:"p-r"},[a("div",{staticClass:"add_info_item"},[a("span",[t._v(t._s(0==t.pageInfo.tabCode?"税号":"账号"))]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.code_id,expression:"code_id"}],staticClass:"item_input",attrs:{type:"text",placeholder:0==t.pageInfo.tabCode?"15-20位数字和字母（必填）":"请输入纳税人识别账号（必填）"},domProps:{value:t.code_id},on:{input:function(e){e.target.composing||(t.code_id=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"clearBtn p-a",class:t.codeIdShow?"bg-lightdark":"bg-white",attrs:{href:"javascript:;"},on:{click:function(e){t.code_id=""}}},[a("span",{staticClass:"fw-7 fc-white iconfont icon-error"})])]),t._v(" "),a("li",{staticClass:"p-r"},[a("div",{staticClass:"add_info_item"},[a("span",[t._v("地址")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.addr,expression:"addr"}],staticClass:"item_input",attrs:{type:"text",placeholder:0==t.pageInfo.tabCode?"请输入单位地址信息":"请输入个人地址信息"},domProps:{value:t.addr},on:{input:function(e){e.target.composing||(t.addr=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"clearBtn p-a",class:t.addrShow?"bg-lightdark":"bg-white",attrs:{href:"javascript:;"},on:{click:function(e){t.addr=""}}},[a("span",{staticClass:"fw-7 fc-white iconfont icon-error"})])]),t._v(" "),a("li",{staticClass:"p-r"},[a("div",{staticClass:"add_info_item"},[a("span",[t._v("电话")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.telNum,expression:"telNum"}],staticClass:"item_input",attrs:{type:"tel",maxlength:"11",placeholder:"请输入电话号码"},domProps:{value:t.telNum},on:{input:function(e){e.target.composing||(t.telNum=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"clearBtn p-a",class:t.telNumShow?"bg-lightdark":"bg-white",attrs:{href:"javascript:;"},on:{click:function(e){t.telNum=""}}},[a("span",{staticClass:"fw-7 fc-white iconfont icon-error"})])]),t._v(" "),a("li",{staticClass:"p-r"},[a("div",{staticClass:"add_info_item"},[a("span",[t._v("开户银行")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_name,expression:"bank_name"}],staticClass:"item_input",attrs:{type:"text",maxlength:"11",placeholder:"请输入开户地址"},domProps:{value:t.bank_name},on:{input:function(e){e.target.composing||(t.bank_name=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"clearBtn p-a",class:t.bankNameShow?"bg-lightdark":"bg-white",attrs:{href:"javascript:;"},on:{click:function(e){t.bank_name=""}}},[a("span",{staticClass:"fw-7 fc-white iconfont icon-error"})])]),t._v(" "),a("li",{staticClass:"p-r"},[a("div",{staticClass:"add_info_item"},[a("span",[t._v("银行账户")]),t._v(" "),a("input",{directives:[{name:"model",rawName:"v-model",value:t.bank_code,expression:"bank_code"}],staticClass:"item_input",attrs:{type:"number",maxlength:"11",placeholder:"请输入银行账户"},domProps:{value:t.bank_code},on:{input:function(e){e.target.composing||(t.bank_code=e.target.value)}}})]),t._v(" "),a("a",{staticClass:"clearBtn p-a",class:t.bankCodeShow?"bg-lightdark":"bg-white",attrs:{href:"javascript:;"},on:{click:function(e){t.bank_code=""}}},[a("span",{staticClass:"fw-7 fc-white iconfont icon-error"})])])]),t._v(" "),t._m(0)]),t._v(" "),a("a",{staticClass:"addInvoiceBtn btn-c bg-blue mt-2",attrs:{href:"javascript:;"},on:{click:function(e){return t.save_info()}}},[a("span",{staticClass:"fc-white fw-6 fm-2"},[t._v("确认保存")])])])},staticRenderFns:[function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticClass:"p-4"},[e("span",{staticClass:"fc-gray fs-3 fw-6"},[this._v("注：请填写完整信息，以便开具增值税发票，我们不会把您的信息用做其他用途。")])])}]};var c=a("VU/8")(n,o,!1,function(t){a("do6C")},null,null);e.default=c.exports}});