webpackJsonp([89],{DvFX:function(t,a){},pNFk:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("mvHQ"),i=e.n(s),r={data:function(){return{pageInfo:{header_title:"添加银行卡",text_title:"请填写银行卡信息",type:null},time_total:60,check_code:null,top_show:!1,telPhone:null,cardName:null,cardId:null,cardCheckCode:null,addBankCardInfo:{card_user:{value:"",code:!1},card_id:{value:"",code:!1}}}},destroyed:function(){this.delCache("cardAddCheckCode")},created:function(){this.selfMainLoadOpend(),this.$store.commit("setHeaderStyle",{txt:this.pageInfo.header_title,type:1}),this.pageInfo.type=this.getParams().type,this.init()},methods:{init:function(){var t=this;this.__Sleep(function(a){t.selfMainLoadClosed()},1e3)},get_checkCode:function(){var t=this;if(this.cardName)if(this.cardId)if(this.telPhone){var a=setInterval(function(){t.top_show=!0,t.time_total--,0==t.time_total&&(t.time_total=60,t.top_show=!1,clearInterval(a))},1e3);this._msg("验证已发送..."),this.top_show||this.__initAction("Tools-setTelCode",{telPhone:this.telPhone},function(a,e){1==e?(t.check_code=a.data.code,t.setCache("cardAddCheckCode",t.check_code)):t._msg(a.info)})}else this._msg("请先输入您的手机号码");else this._msg("请先输入您的银行卡号");else this._msg("请先输入您的姓名")},add_card:function(){var t=this;this.__initAction("Bank-addMemberCard",{token:this.getToken(),cardUser:this.cardName,cardNum:this.cardId,telCode:this.cardCheckCode,PhoneCode:this.telPhone},function(a,e){if(1==e){var s={};s.id=a.data.id,t.setCache("cashBank",i()(s)),t._msg(a.info),t.pageInfo.type,setTimeout(function(){window.history.go(-1)},2e3)}else t._msg(a.info)})}},watch:{cardName:function(){this.cardName?(this.addBankCardInfo.card_user.code=!0,this.addBankCardInfo.card_user.value=this.cardName):this.addBankCardInfo.card_user.code=!1},cardId:function(){this.cardId?(this.addBankCardInfo.card_id.code=!0,this.addBankCardInfo.card_id.value=this.cardId):this.addBankCardInfo.card_id.code=!1}}},n={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"addBankCard"},[e("div",{staticClass:"addBankCard_group w-100"},[e("p",{staticClass:"addBankCard_title fw-6 mb-4"},[t._v(t._s(t.pageInfo.text_title))]),t._v(" "),e("ul",{staticClass:"addBankCard_items bg-white"},[e("li",{},[e("a",{staticClass:"line_input_item p-r",attrs:{href:"javascript:;"}},[e("span",{staticClass:"r-left fw-6 fs-3 fc-dark"},[t._v("持卡人")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardName,expression:"cardName"}],staticClass:"line_input",attrs:{type:"text",placeholder:"请输入您的姓名"},domProps:{value:t.cardName},on:{input:function(a){a.target.composing||(t.cardName=a.target.value)}}}),t._v(" "),t.addBankCardInfo.card_user.code?e("a",{staticClass:"clearBtn bg-lightdark p-a",attrs:{href:"javascript:;"},on:{click:function(a){t.cardName=""}}},[e("span",{staticClass:"iconfont icon-error"})]):t._e()])]),t._v(" "),e("li",{},[e("a",{staticClass:"line_input_item p-r",attrs:{href:"javascript:;"}},[e("span",{staticClass:"r-left fw-6 fs-3 fc-dark"},[t._v("卡   号")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardId,expression:"cardId"}],staticClass:"line_input",attrs:{type:"number",placeholder:"请输入银行卡号"},domProps:{value:t.cardId},on:{input:function(a){a.target.composing||(t.cardId=a.target.value)}}}),t._v(" "),t.addBankCardInfo.card_id.code?e("a",{staticClass:"clearBtn bg-lightdark p-a",attrs:{href:"javascript:;"},on:{click:function(a){t.cardId=""}}},[e("span",{staticClass:"iconfont icon-error"})]):t._e()])]),t._v(" "),e("li",{},[e("a",{staticClass:"line_input_item p-r",attrs:{href:"javascript:;"}},[e("span",{staticClass:"r-left fw-6 fs-3 fc-dark"},[t._v("手机号")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.telPhone,expression:"telPhone"}],staticClass:"line_input",attrs:{type:"number",placeholder:"请输入手机号码"},domProps:{value:t.telPhone},on:{input:function(a){a.target.composing||(t.telPhone=a.target.value)}}}),t._v(" "),t.telPhone?e("a",{staticClass:"clearBtn bg-lightdark p-a",attrs:{href:"javascript:;"},on:{click:function(a){t.telPhone=""}}},[e("span",{staticClass:"iconfont icon-error"})]):t._e()])]),t._v(" "),e("li",{staticClass:"check_code_item"},[e("a",{staticClass:"line_input_item p-r",attrs:{href:"javascript:;"}},[e("span",{staticClass:"r-left fw-6 fs-3 fc-dark"},[t._v("验证码")]),t._v(" "),e("input",{directives:[{name:"model",rawName:"v-model",value:t.cardCheckCode,expression:"cardCheckCode"}],staticClass:"line_input",attrs:{type:"number",placeholder:"请输入验证码"},domProps:{value:t.cardCheckCode},on:{input:function(a){a.target.composing||(t.cardCheckCode=a.target.value)}}}),t._v(" "),t.cardCheckCode?e("a",{staticClass:"clearBtn bg-lightdark p-a",attrs:{href:"javascript:;"},on:{click:function(a){t.cardCheckCode=""}}},[e("span",{staticClass:"iconfont icon-error"})]):t._e()]),t._v(" "),t.top_show?t._e():e("a",{staticClass:"getCodeBtn bg-blue fc-white fs-3 fw-6",attrs:{slot:"right",href:"javascript:;"},on:{click:function(a){return t.get_checkCode()}},slot:"right"},[t._v("获取验证码")]),t._v(" "),t.top_show?e("a",{staticClass:"getCodeBtn bg-wgite br-gray fw-5",attrs:{slot:"right",href:"javascript:;"},slot:"right"},[e("span",{staticClass:"fc-gray fw-6"},[t._v(t._s(t.time_total)+"后重新获取")])]):t._e()])])]),t._v(" "),e("a",{staticClass:"addCardBtn btn-c bg-blue",attrs:{href:"javascript:;"},on:{click:function(a){return t.add_card()}}},[e("span",{staticClass:"fc-white fm-2 fw-7"},[t._v("确定绑定")])])])},staticRenderFns:[]};var c=e("VU/8")(r,n,!1,function(t){e("DvFX")},null,null);a.default=c.exports}});