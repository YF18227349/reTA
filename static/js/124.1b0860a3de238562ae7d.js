webpackJsonp([124],{"Tg+1":function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var a={data:function(){return{header_title:"工资条",startDate:"",thisDate:"",datetime:"2016-06",ss_top:{time:"",cash:"",tip:""},ss_top2:[],ss_mid:[],ss_bot:{tip:"温馨提示：工资属于敏感信息，请注意保密",buttons:{color:"#2f9bfe",text:"确认"},end_time:"2020-3-28 10:10:10"},day:0,hr:0,min:0,sec:0,showtips:1,openDom:{status:!1,type:1},ssmh:"",confirmId:"",Status:!0,Img:""}},mounted:function(){var t=document.documentElement.clientHeight;this.ssmh=t-44-132-58-32-126;var s=this.getCache("NULL_SALARY_IMG");this.Img=this.str2json(s).val},created:function(){this.selfMainLoadOpend(),this.init()},methods:{init:function(){var t=new Date;this.thisDate=t.getFullYear()+"-"+this.add0(t.getMonth()+1),this.datetime=this.thisDate;var s={token:this.getToken(),y:t.getFullYear(),m:this.add0(t.getMonth()+1)};console.log(s),this.funs("Salary-management",s,1)},add0:function(t){return t<10?"0"+t:t},opendate:function(){this.$refs.datetime.open()},choseDate:function(){console.log("do something");var t={token:this.getToken(),y:this.datetime.slice(0,4),m:this.datetime.slice(5,8)};this.funs("Salary-management",t,1)},countdown:function(){var t=Date.parse(new Date(this.ss_bot.end_time)),s=Date.parse(new Date);if(s>=t)return this.day=0,this.hr=0,this.min=0,this.sec=0,void(this.showtips=0);var e=t-s,a=parseInt(e/1e3/60/60/24),i=parseInt(e/1e3/60/60%24),n=parseInt(e/1e3/60%60),o=parseInt(e/1e3%60);this.day=a,this.hr=i>9?i:"0"+i,this.min=n>9?n:"0"+n,this.sec=o>9?o:"0"+o;var r=this;setTimeout(function(){r.countdown()},1e3)},funs:function(t,s,e){var a=this;this.__initAction(t,s,function(t,s){if(1==e)if(1==t.status){a.Status=!0,a.openDom.status=!1,a.openDom.type=1;var i=t.data;console.log("接口",i),a.startDate=i.help.startTime.y+"-"+a.add0(i.help.startTime.m),a.ss_top.time=i.title,a.ss_top.cash=i.number,a.ss_top.tip=i.tip,a.ss_top2=i.main.top,a.ss_mid=i.main.main,a.ss_bot=i.help,a.confirmId=i.confirmId,a.countdown()}else{var n=t.code;1==n.code?(a.Status=!1,a.openDom.status=!0,a.Img=n.data.bgsrc):(a.Status=!1,a.openDom.status=!0,a.openDom.type=2,a.startDate=n.data.help.startTime.y+"-"+a.add0(n.data.help.startTime.m))}else if(1==t.status){var o={token:a.getToken(),y:a.datetime.slice(0,4),m:a.datetime.slice(5,8)};a.funs("Salary-management",o,1)}a.selfMainLoadClosed()})},goTo:function(t){if("确认"==t){console.log("确认");var s={token:this.getToken(),id:this.confirmId};this.funs("Salary-confirm",s,2)}else console.log("已确认")}}},i={render:function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("div",{staticClass:"salary_sheet w-100"},[e("header",{staticClass:"salary_sheet_header bg-gray w-100"},[e("a",{staticClass:"arrow-logo fc-white fw-5 iconfont icon-previewleft",attrs:{href:"javascript:history.go(-1)"}}),t._v(" "),e("span",{staticClass:"header_title fc-dark fw-7"},[t._v(t._s(t.header_title))]),t._v(" "),e("yd-button-group",{staticClass:"last",nativeOn:{click:function(s){return t.opendate(s)}}},[e("span",{staticClass:"fw-5 fc-white fs-3 iconfont icon-search"},[t._v("•••")])]),t._v(" "),e("yd-cell-group",{staticClass:"dn"},[e("yd-cell-item",[e("yd-datetime",{ref:"datetime",attrs:{slot:"right",type:"month","start-date":t.startDate,"end-date":t.thisDate,callback:t.choseDate},slot:"right",model:{value:t.datetime,callback:function(s){t.datetime=s},expression:"datetime"}})],1)],1)],1),t._v(" "),e("div",{staticClass:"clear-fixed"}),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:t.Status,expression:"Status"}],staticClass:"ss_con"},[e("div",{staticClass:"ss_top"},[e("h3",[t._v(t._s(t.ss_top.time))]),t._v(" "),e("p",[t._v(t._s(t.ss_top.cash))]),t._v(" "),e("span",[t._v(t._s(t.ss_top.tip))])]),t._v(" "),e("ul",{staticClass:"ss_top2 clearfix"},t._l(t.ss_top2,function(s){return e("li",{key:s.k},[e("p",[t._v(t._s(s.k))]),t._v(" "),e("span",[t._v(t._s(s.v))])])}),0),t._v(" "),e("ul",{staticClass:"ss_mid",style:"height: "+t.ssmh+"px"},t._l(t.ss_mid,function(s){return e("li",{key:s.k,staticClass:"clearfix"},[e("p",[t._v(t._s(s.k)+"：")]),t._v(" "),e("span",[t._v(t._s(s.v))])])}),0),t._v(" "),e("div",{staticClass:"ss_bot"},[e("div",{staticClass:"tip"},[t._v(t._s(t.ss_bot.tip))]),t._v(" "),e("div",{staticClass:"buttons",style:{background:t.ss_bot.buttons.color},on:{click:function(s){return t.goTo(t.ss_bot.buttons.text)}}},[t._v(t._s(t.ss_bot.buttons.text))]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:1==t.showtips,expression:"showtips == 1 ? true : false"}],staticClass:"end_time"},[t._v("工资条即将在"),e("span",[t._v(t._s(t.day)+"天"+t._s(t.hr)+"小时"+t._s(t.min)+"分"+t._s(t.sec))]),t._v("后自动确认")]),t._v(" "),e("div",{directives:[{name:"show",rawName:"v-show",value:0==t.showtips,expression:"showtips == 0 ? true : false"}],staticClass:"end_time"},[t._v("工资条已自动确认")])])]),t._v(" "),t.openDom.status?e("div",{staticClass:"ifImg"},[e("img",{attrs:{src:t.Img}})]):t._e()])},staticRenderFns:[]};var n=e("VU/8")(a,i,!1,function(t){e("s8p1")},null,null);s.default=n.exports},s8p1:function(t,s){}});